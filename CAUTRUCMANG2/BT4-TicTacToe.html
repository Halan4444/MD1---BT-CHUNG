<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BT4-TICTACTOE</title>
</head>
<style>
    table, tr, td {
        border: 1px solid black;
        border-collapse: collapse;
    }
    td {
        text-align: center;
        font-weight: bold;
    }
</style>
<body>
<table border-collapse >
    <tr>
        <td width="100" height="100" id="11"></td>
        <td width="100" height="100" id="12"></td>
        <td width="100" height="100" id="13"></td>
    </tr>
    <tr>
        <td width="100" height="100" id="21"></td>
        <td width="100" height="100" id="22"></td>
        <td width="100" height="100" id="23"></td>
    </tr>
    <tr>
        <td width="100" height="100" id="31"></td>
        <td width="100" height="100" id="32"></td>
        <td width="100" height="100" id="33"></td>
    </tr>
</table>
</body>
</html>
<script>
    ///Function nhập ký tự
    var isX = true;
    function myFunction (item) {
        if (isX) {
            //item.innerHTML = "<h1 style='text-align: center'>X</h1>"
            item.innerHTML = "X"
            isX = false;
        } else {
            //item.innerHTML = "<h1 style='text-align: center'>O</h1";
            item.innerHTML = "O";
            isX = true;
        }
    }
    document.querySelectorAll("td").forEach(item=> {
        item.addEventListener("click", () => {
            if (item.innerHTML === "") {
                myFunction(item);
                check();
            }
        })
    })
    //Hàm kiểm tra thắng thua
    function check() {
        // Hàng ngang
        for (let x = 1; x < 4; x++) {
            let arr = [];
            for (let y = 1; y < 4; y++) {
                let a = document.getElementById(`${x}${y}`).innerHTML;
                if (a === "") {
                    continue;
                } else {
                    arr.push(a)
                }
                if (arr[0] === arr[1] && arr[1] === arr[2]) {
                    if (arr[0] === "X") {
                        alert("X win")
                    }
                    if (arr[0] === "O") {
                        alert("O win")
                    }
                }
            }
        }
        // Hàng Dọc
        for (let y = 1; y < 4; y++) {
            let arr = [];
            for (let x = 1; x < 4; x++) {
                let a = document.getElementById(`${x}${y}`).innerHTML;
                if (a === "") {
                    continue;
                } else {
                    arr.push(a)
                }
                if (arr[0] === arr[1]&& arr[1] === arr[2]){
                    if (arr[0] === "X"){
                        alert("X win");
                    }if (arr[0] === "O"){
                        alert("O win");
                    }
                }
            }
        }
        //Hàng chéo
        arr =[];
        for (let x =1;x<4;x++){
            let a = document.getElementById(`${x}${x}`).innerHTML;
            if (a === ""){
                continue;
            }else {
                arr.push(a)
            }
            if (arr[0] === arr[1]&& arr[1] === arr[2]){
                if (arr[0]==="X"){
                    alert("X win");
                }if (arr[0]==="O"){
                    alert("O win");
                }
            }
        }
        arr =[];
        for (let x =1;x<4;x++){
            let a = document.getElementById(`${x}${4-x}`).innerHTML;
            if (a === ""){
                continue;
            }else {
                arr.push(a);
            }
            if (arr[0] === arr[1]&& arr[1] === arr[2]){
                if (arr[0] === "X"){
                    alert("X win");
                }if (arr[0] === "O"){
                    alert("O win");
                }
            }
        }
    }


</script>